import{a as x,b as q,c as D,j as a,d as H,r as M,e as I,u as U,R as B,f as G,g as K,L as W,h as J,n as Q}from"./index-33f7ee09.js";import{s as k}from"./styles.module-4dbb28c5.js";function E(e=x){const n=e===x?q:D(e);return function(){const{store:r}=n();return r}}const V=E();function X(e=x){const n=e===x?V:E(e);return function(){return n().dispatch}}const Y=X();var w="NOT_FOUND";function Z(e){var n;return{get:function(r){return n&&e(n.key,r)?n.value:w},put:function(r,c){n={key:r,value:c}},getEntries:function(){return n?[n]:[]},clear:function(){n=void 0}}}function ee(e,n){var t=[];function r(i){var o=t.findIndex(function(u){return n(i,u.key)});if(o>-1){var l=t[o];return o>0&&(t.splice(o,1),t.unshift(l)),l.value}return w}function c(i,o){r(i)===w&&(t.unshift({key:i,value:o}),t.length>e&&t.pop())}function s(){return t}function d(){t=[]}return{get:r,put:c,getEntries:s,clear:d}}var te=function(n,t){return n===t};function ne(e){return function(t,r){if(t===null||r===null||t.length!==r.length)return!1;for(var c=t.length,s=0;s<c;s++)if(!e(t[s],r[s]))return!1;return!0}}function re(e,n){var t=typeof n=="object"?n:{equalityCheck:n},r=t.equalityCheck,c=r===void 0?te:r,s=t.maxSize,d=s===void 0?1:s,i=t.resultEqualityCheck,o=ne(c),l=d===1?Z(o):ee(d,o);function u(){var f=l.get(arguments);if(f===w){if(f=e.apply(null,arguments),i){var p=l.getEntries(),v=p.find(function(h){return i(h.value,f)});v&&(f=v.value)}l.put(arguments,f)}return f}return u.clearCache=function(){return l.clear()},u}function ae(e){var n=Array.isArray(e[0])?e[0]:e;if(!n.every(function(r){return typeof r=="function"})){var t=n.map(function(r){return typeof r=="function"?"function "+(r.name||"unnamed")+"()":typeof r}).join(", ");throw new Error("createSelector expects all input-selectors to be functions, but received the following types: ["+t+"]")}return n}function se(e){for(var n=arguments.length,t=new Array(n>1?n-1:0),r=1;r<n;r++)t[r-1]=arguments[r];var c=function(){for(var d=arguments.length,i=new Array(d),o=0;o<d;o++)i[o]=arguments[o];var l=0,u,f={memoizeOptions:void 0},p=i.pop();if(typeof p=="object"&&(f=p,p=i.pop()),typeof p!="function")throw new Error("createSelector expects an output function after the inputs, but received: ["+typeof p+"]");var v=f,h=v.memoizeOptions,y=h===void 0?t:h,O=Array.isArray(y)?y:[y],j=ae(i),C=e.apply(void 0,[function(){return l++,p.apply(null,arguments)}].concat(O)),S=e(function(){for(var b=[],P=j.length,_=0;_<P;_++)b.push(j[_].apply(null,arguments));return u=C.apply(null,b),u});return Object.assign(S,{resultFunc:p,memoizedResultFunc:C,dependencies:j,lastResult:function(){return u},recomputations:function(){return l},resetRecomputations:function(){return l=0}}),S};return c}var oe=se(re);const z=({children:e,onClick:n,isActive:t=!1})=>a.jsx("button",{className:[k.button,k[`button--${t?"active":"normal"}`]].join(" "),type:"button",onClick:n,children:e}),A=Y,g=H,ce=e=>e.tweets.list,T=e=>e.tweets.filter,L=e=>e.tweets.followed,ie=e=>e.tweets.pagination,le=e=>e.tweets.status==="pending",ue=oe([ce,T,L,ie],(e,n,t,{page:r,limit:c})=>{let s=[];switch(n){case"follow":s=e.filter(d=>!t.includes(d.id));break;case"following":s=e.filter(d=>t.includes(d.id));break;default:s=e}return{list:s.slice(0,r*c),page:r,totalPages:Math.ceil(s.length/c)}}),de=["all","follow","following"],fe="_container_1d19w_1",pe="_description_1d19w_27",ve="_text_1d19w_35",he="_avatar_1d19w_44",F={container:fe,description:pe,text:ve,"avatar-container":"_avatar-container_1d19w_44",avatar:he},me="_text_vm574_1",ge={text:me},N=({count:e,text:n})=>a.jsx("p",{className:ge.text,children:`${e.toLocaleString("en-US")} ${n}`}),xe="_avatar_10rjz_1",R={"avatar-container":"_avatar-container_10rjz_1",avatar:xe},we=({src:e,alt:n})=>a.jsx("div",{className:R["avatar-container"],children:a.jsx("img",{className:R.avatar,src:e,alt:n,loading:"lazy"})}),ye=({info:e,isFollowed:n=!1})=>{const t=A(),r=()=>{t((n?M:I)(e.id))};return a.jsxs("article",{className:F.container,children:[a.jsx(we,{src:e.avatar,alt:e.user}),a.jsxs("div",{className:F.description,children:[a.jsx(N,{count:e.tweets,text:"tweets"}),a.jsx(N,{count:e.followers+(n?1:0),text:"followers"})]}),a.jsx(z,{onClick:r,isActive:n,children:n?"Following":"Follow"})]})},je="_list_czc3b_1",$={list:je,"no-items":"_no-items_czc3b_8"},_e=({tweets:e})=>{const n=g(L);return a.jsx(a.Fragment,{children:e.length>0?a.jsx("ul",{className:$.list,children:e.map(t=>a.jsx("li",{children:a.jsx(ye,{info:t,isFollowed:n.includes(t.id)})},t.id))}):a.jsx("h2",{className:$["no-items"],children:"No tweets..."})})},Ce="_text_1h51g_1",Se={text:Ce},be=()=>a.jsx("h2",{className:Se.text,children:"Loading..."}),Ne=()=>{var l;const e=U(),n=((l=e==null?void 0:e.state)==null?void 0:l.from)??B.MAIN,t=A(),r=g(T),c=g(le),{list:s,page:d,totalPages:i}=g(ue),o=()=>{t(Q())};return G.useEffect(()=>{t(K())},[t]),a.jsxs("section",{children:[a.jsx(W,{to:n,children:"← Go Back"}),c?a.jsx(be,{}):a.jsxs(a.Fragment,{children:[a.jsx("select",{style:{display:"block",margin:"30px auto 0"},value:r,onChange:u=>{t(J(u.target.value))},children:de.map(u=>a.jsx("option",{value:u,children:u},u))}),a.jsx(_e,{tweets:s}),d<i&&a.jsx(z,{onClick:o,isActive:!0,children:"Load more"})]})]})};export{Ne as default};
